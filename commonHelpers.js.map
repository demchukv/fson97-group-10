{"version":3,"file":"commonHelpers.js","sources":["../src/js/favorites.js"],"sourcesContent":["/*import Handlebars from 'handlebars';*/\nimport icons from '../img/icons.svg';\n\nconst refs = {\n  favoritesContent: document.querySelector('.favorites-card-content'),\n};\nconst KEY = 'favorites';\nlet dltBtnsCards = null;\nconst noFavorites = ` <div class=\"favorites-content\">\n<div class=\"favorites-empty-img\"></div>\n\n<p class=\"favorites-text\">\n  It appears that you haven't added any exercises to your favorites yet.\n  To get started, you can add exercises that you like to your favorites\n  for easier access in the future.\n</p>\n</div>`;\n\ntry {\n  if (localStorage.getItem(KEY)) {\n    const storedData = JSON.parse(localStorage.getItem(KEY));\n    if (Array.isArray(storedData) && storedData.length === 0) {\n      console.log('');\n      refs.favoritesContent.innerHTML = noFavorites;\n    } else {\n      refs.favoritesContent.innerHTML = `<ul class=\"favorites-group\">${createMarkup(\n        storedData\n      )}</ul> \n\n    `;\n    }\n    dltBtnsCards = document.querySelectorAll('.favorites-delete');\n  }else{\n    refs.favoritesContent.innerHTML = noFavorites;\n  }\n  \n} catch (e) {\n  console.log(e);\n}\n\n//* DELETE BUTTON\nif (dltBtnsCards) {\n  dltBtnsCards.forEach(dltBtnCard => {\n    dltBtnCard.addEventListener('click', e => {\n      let getLocalStorageData = localStorage.getItem(KEY);\n      let data = JSON.parse(getLocalStorageData);\n      const card = e.target.closest('.favorites-item');\n      const idCard = card.dataset.id;\n      localStorage.setItem(\n        KEY,\n        JSON.stringify(data.filter(({ _id }) => _id !== idCard))\n      );\n      const cardList = document.querySelector('.favorites-group');\n      cardList.removeChild(card);\n      if (cardList.children.length === 0) {\n        refs.favoritesContent.innerHTML = noFavorites;\n      }\n    });\n  });\n}\n\n//* MARKUP CARDS\nfunction createMarkup(data) {\n  return data\n    .map(\n      i =>\n        `\n        <li class=\"favorites-item\" data-id=\"${i._id}\" id=\"card-${i._id}\">\n           <p class=\"favorites-item-head\">\n              <span class=\"favorites-item-head-wrapper\">\n                <span class=\"favorites-item-workout\">WORKOUT</span>\n                  <button class=\"favorites-delete\">\n                    <svg class=\"delete-icon\" width=\"12\" height=\"13\">\n                      <use href=\"${icons}#icon-trash\"></use>\n                    </svg>\n                  </button>\n                  <a class=\"ex-item-start\" href=\"\" data-id=\"${i._id}\">\n                    <span>Start</span>\n                     <svg class=\"favorites-arrow-icon\" width=\"14\" height=\"14\">\n                      <use href=\"${icons}#icon-arrow-start\"></use>\n                    </svg>\n                  </a>\n             </p>\n              <span class=\"favorites-card-title\">\n                <span class=\"favorites-run-men\"><svg class=\"ex-icon-run\" width=\"14\" height=\"14\">\n                  <use href=\"${icons}#icon-running_man\"></use>\n                </svg>\n              </span>\n            <h3 class=\"favorites-item-name\">${\n              i.name.charAt(0).toUpperCase() + i.name.slice(1)\n            }</h3>\n            </span>\n            </span>\n            <p class=\"favorites-item-info\">\n             <span class=\"ex-info-group\"><span class=\"favorites-item-desc\">Burned calories:</span> <span\n                class=\"favorites-item-value\">${i.burnedCalories} / ${\n          i.time\n        } min</span>\n        </span>\n        <span class=\"favorites-info-group\"><span class=\"favorites-item-desc\">Body part:</span> <span\n                class=\"favorites-item-value\">${\n                  i.bodyPart.charAt(0).toUpperCase() + i.bodyPart.slice(1)\n                }</span>\n        </span>\n        <span class=\"favorites-info-group\"><span class=\"favorites-item-desc\">Target:</span> <span\n                class=\"favorites-item-value\">${\n                  i.target.charAt(0).toUpperCase() + i.target.slice(1)\n                }</span>\n        </span>\n    </p>\n</li>\n        `\n    )\n    .join('');\n}\n// document.addEventListener('DOMContentLoaded', function () {\n//   if (!navigator.userAgent.toLowerCase().includes('webkit')) {\n//     document.querySelector('.wrapper').innerHTML =\n//       '<p>Sorry! Non webkit users. :(</p>';\n//   }\n// });\n// document.addEventListener('DOMContentLoaded', function () {\n//   var scrollbar = document.querySelector('.scrollbar');\n\n//   scrollbar.style.height = '100%';\n// });\n"],"names":["refs","KEY","dltBtnsCards","noFavorites","storedData","createMarkup","e","dltBtnCard","getLocalStorageData","data","card","idCard","_id","cardList","i","icons"],"mappings":"uFAGA,MAAMA,EAAO,CACX,iBAAkB,SAAS,cAAc,yBAAyB,CACpE,EACMC,EAAM,YACZ,IAAIC,EAAe,KACnB,MAAMC,EAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAUpB,GAAI,CACF,GAAI,aAAa,QAAQF,CAAG,EAAG,CAC7B,MAAMG,EAAa,KAAK,MAAM,aAAa,QAAQH,CAAG,CAAC,EACnD,MAAM,QAAQG,CAAU,GAAKA,EAAW,SAAW,GACrD,QAAQ,IAAI,EAAE,EACdJ,EAAK,iBAAiB,UAAYG,GAElCH,EAAK,iBAAiB,UAAY,+BAA+BK,EAC/DD,CACR,CAAO;AAAA;AAAA,MAIHF,EAAe,SAAS,iBAAiB,mBAAmB,CAChE,MACIF,EAAK,iBAAiB,UAAYG,CAGtC,OAASG,EAAG,CACV,QAAQ,IAAIA,CAAC,CACf,CAGIJ,GACFA,EAAa,QAAQK,GAAc,CACjCA,EAAW,iBAAiB,QAAS,GAAK,CACxC,IAAIC,EAAsB,aAAa,QAAQP,CAAG,EAC9CQ,EAAO,KAAK,MAAMD,CAAmB,EACzC,MAAME,EAAO,EAAE,OAAO,QAAQ,iBAAiB,EACzCC,EAASD,EAAK,QAAQ,GAC5B,aAAa,QACXT,EACA,KAAK,UAAUQ,EAAK,OAAO,CAAC,CAAE,IAAAG,CAAK,IAAKA,IAAQD,CAAM,CAAC,CAC/D,EACM,MAAME,EAAW,SAAS,cAAc,kBAAkB,EAC1DA,EAAS,YAAYH,CAAI,EACrBG,EAAS,SAAS,SAAW,IAC/Bb,EAAK,iBAAiB,UAAYG,EAE1C,CAAK,CACL,CAAG,EAIH,SAASE,EAAaI,EAAM,CAC1B,OAAOA,EACJ,IACCK,GACE;AAAA,8CACsCA,EAAE,GAAG,cAAcA,EAAE,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAMnCC,CAAK;AAAA;AAAA;AAAA,8DAGsBD,EAAE,GAAG;AAAA;AAAA;AAAA,mCAGhCC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAMTA,CAAK;AAAA;AAAA;AAAA,8CAItBD,EAAE,KAAK,OAAO,CAAC,EAAE,YAAa,EAAGA,EAAE,KAAK,MAAM,CAAC,CAChD;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKkCA,EAAE,cAAc,MACrDA,EAAE,IACH;AAAA;AAAA;AAAA,+CAISA,EAAE,SAAS,OAAO,CAAC,EAAE,YAAa,EAAGA,EAAE,SAAS,MAAM,CAAC,CACxD;AAAA;AAAA;AAAA,+CAICA,EAAE,OAAO,OAAO,CAAC,EAAE,YAAa,EAAGA,EAAE,OAAO,MAAM,CAAC,CACpD;AAAA;AAAA;AAAA;AAAA,SAKZ,EACA,KAAK,EAAE,CACZ"}