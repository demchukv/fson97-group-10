import{i as g,a as f,P as L}from"./vendor-e8675f53.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();function u(e,t="info"){t==="OK"?g.success({position:"topCenter",message:e}):t==="ERROR"?g.error({position:"topCenter",message:e}):g.info({position:"topCenter",message:e})}function o(e="show"){const t=document.querySelector(".loader");e==="show"?t.style.display="inline-block":t.style.display="none"}const l={gallery:document.querySelector(".gallery"),buttons:document.querySelector(".exercises-btns-div"),musclesBtn:document.querySelector('[data-filter="muscles"]'),bodypartsBtn:document.querySelector('[data-filter="bodypart"]'),equipBtn:document.querySelector('[data-filter="equipment"]')};f.defaults.baseURL="https://energyflow.b.goit.study/api";const d={perPage:12,page:1,filter:"Muscles"};async function v(){return o(),await f.get("/filters",{params:{filter:d.filter,page:d.page,limit:d.perPage}})}function w(e){l.gallery.innerHTML="";const t=e.map(({name:s,filter:i,imgUrl:r})=>`<li class="gallery-item">
        <a href="">
        <img class="gallery-image" src="${r}" alt="Galllery Image">
            <ul class="gallery-item-description" data-exercises="${s}">
                <li class="name">${s}</li>
                <li class="filter">${i}</li>
            </ul>
        </a>
    </li>`).join("");l.gallery.innerHTML=t,o("hide")}function x(){v().then(({data:{results:e}})=>w(e)).catch(e=>{o("hide"),u(e.message,"ERROR")})}x();l.musclesBtn.classList.add("active");l.buttons.addEventListener("click",e=>{O(e);const t=e.target;t!==e.currentTarget&&(t===l.musclesBtn?d.filter="Muscles":t===l.bodypartsBtn?d.filter="Body parts":t===l.equipBtn&&(d.filter="Equipment"),x())});let c=null;function O(e){const t=e.target.nodeName==="BUTTON";l.musclesBtn.classList.remove("active"),t&&(e.target.classList.add("active"),c!==null&&c.classList.remove("active"),c=e.target,c===c&&c.classList.add("active"))}const a={page:1,totalPages:1,totalItems:0,keyword:"",filter:"",filterGroup:"",limit:12},p=document.querySelector(".gallery"),h=document.querySelector(".search-btn");p&&h&&(p.addEventListener("click",P),h.addEventListener("click",R));function P(e){if(e.preventDefault(),e.target.closest("ul").dataset.exercises){const t=document.querySelector(".exercises-button.active");a.filter=t.dataset.filter,a.filterGroup=e.target.closest("ul").dataset.exercises,y(a.filter,a.filterGroup,a.keyword)}}function R(e){e.preventDefault(),y(a.filter,a.filterGroup,a.keyword)}function y(e,t,s=!0){p.innerHTML="",B(e).then(i=>{a.totalPages=i.totalPages,a.totalItems=a.limit*i.totalPages,i.results.length===0?p.innerHTML='<p class="ex-list-no-result">Unfortunately, <span class="accent-text">no results</span> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>':(E(i.results),s?S():o("hide"))}).catch(i=>{o("hide"),u(i.message,"ERROR")})}async function B(e,t){return o(),(await f.get("/exercises",{params:{[e]:a.filterGroup,keyword:a.keyword,page:a.page,limit:a.limit}})).data}function E(e){let t=e.map(s=>`<li class="exercise-item" data-id="${s._id}">
      <p class="ex-item-head">
      <span class="ex-item-workout">WORKOUT</span>
      <span class="ex-item-rating">${s.rating}</span>
      <a class="ex-item-start" href="#" data-id="${s._id}">Start</a>
      </p>
      <h3 class="ex-item-name">${s.name.charAt(0).toUpperCase()+s.name.slice(1)}</h3>
      <p class="ex-item-info">
      <span class="ex-item-desc">Burned calories:</span> <span class="ex-item-value">${s.burnedCalories}/${s.time} min</span>
      <span class="ex-item-desc">Body part:</span> <span class="ex-item-value">${s.bodyPart.charAt(0).toUpperCase()+s.bodyPart.slice(1)}</span>
      <span class="ex-item-desc">Target:</span> <span class="ex-item-value">${s.target.charAt(0).toUpperCase()+s.target.slice(1)}</span>
      </p>
      </li>`).join("");p.innerHTML=t}function S(){new L("pagination",{totalItems:a.totalItems,itemsPerPage:a.limit,visiblePages:3}).on("afterMove",function(t){a.page=t.page,y(a.filter,a.filterGroup,!1)}),o("hide")}const b=document.querySelector(".footer-form");async function q(e){return f.post("https://energyflow.b.goit.study/api/subscription",e)}b.addEventListener("submit",k);function k(e){e.preventDefault();const t=e.currentTarget.email.value.trim().toLowerCase();if(t===""){u("The email field is empty!","ERROR");return}const s={email:t};o("show"),q(s).then(({data:i,status:r})=>{r===201&&(o("hide"),u(i.message,"OK"))}).catch(i=>{i.response.status===409?(o("hide"),u("Subscription already exists!")):(u(i.message,"ERROR"),o("hide"))}).finally(b.reset())}
//# sourceMappingURL=main-437f4e05.js.map
