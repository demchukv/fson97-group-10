{"version":3,"file":"main-813e7df5.js","sources":["../../src/js/common.js","../../src/js/exercises.js","../../src/js/footer.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n/**\n * \n * @param {*} msg - Текст повідомлення для відвідувача сайту\n * @param {*} type - Тип повідомлення: OK - успіх (зелений фон), ERROR - помилка (червоний фон), info - інформування (синій фон)\n */\nexport function showAlert( msg, type = \"info\" ) {\n    if (type === \"OK\") {\n        iziToast.success({\n            position: 'topCenter',\n            message: msg,\n        });\n    }else if(type === \"ERROR\"){\n        iziToast.error({\n            position: 'topCenter',\n            message: msg,\n        });\n    } else {\n        iziToast.info({\n            position: 'topCenter',\n            message: msg,\n        });\n    }\n}\n\n/**\n * \n * @param {*} act - show and hide - показати і сховати лоадер\n */\nexport function getLoader( act = 'show' ){\n    const loader = document.querySelector(\".loader\");\n    if(act === 'show'){\n        loader.style.display = 'inline-block';\n    }else{\n        loader.style.display = 'none';\n    }\n}","import axios from 'axios';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  buttons: document.querySelector('.exercises-btns-div'),\n  musclesBtn: document.querySelector('[data-filter=\"muscles\"]'),\n  bodypartsBtn: document.querySelector('[data-filter=\"bodyparts\"]'),\n  equipBtn: document.querySelector('[data-filter=\"equipment\"]'),\n};\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\nconst perPage = 12;\nlet page = 1;\nlet filter = 'Muscles';\n\nasync function getData() {\n  const data = await axios.get('/filters', {\n    params: {\n      filter,\n      page,\n      limit: perPage,\n    },\n  });\n  return data;\n}\n\nfunction createMarkup(arr) {\n  const markup = arr\n    .map(\n      ({ name, filter, imgUrl }) => `<li class=\"gallery-item\">\n        <a href=\"\">\n        <img class=\"gallery-image\" src=\"${imgUrl}\" alt=\"Galllery Image\">\n            <ul class=\"gallery-item-description\">\n                <li class=\"name\">${name}</li>\n                <li class=\"filter\">${filter}</li>\n            </ul>\n        </a>\n    </li>`\n    )\n    .join('');\n\n  refs.gallery.innerHTML = markup;\n}\n\nfunction handleSearch(){\n  getData().then(\n    ({ data: { results } }) => createMarkup(results),\n  );\n}\n\nhandleSearch()\nrefs.musclesBtn.classList.add('active');\n\nrefs.buttons.addEventListener(\"click\", (event) => {\n  selected(event)\n  const targetMenu = event.target;\n\n  if (targetMenu === event.currentTarget) {\n    return\n  } else if (targetMenu === refs.musclesBtn) {\n    filter = 'Muscles'\n    handleSearch()\n    return\n  } else if (targetMenu === refs.bodypartsBtn){\n    filter = 'Body parts'\n    handleSearch()\n    return\n  } else if (targetMenu === refs.equipBtn) {\n    filter = 'Equipment'\n    handleSearch()\n    return\n  }\n})\n\nlet prevButton = null;\n\nfunction selected(e) {\n  const isButton = e.target.nodeName === 'BUTTON';\n  refs.musclesBtn.classList.remove('active');\n\n  if (!isButton) {\n    return;\n  }\n\n  e.target.classList.add('active');\n\n  if (prevButton !== null) {\n    prevButton.classList.remove('active');\n  }\n  prevButton = e.target;\n\n  if (prevButton === prevButton) {\n    prevButton.classList.add('active')\n  }\n}","import axios from 'axios';\nimport { showAlert, getLoader } from './common';\n\nconst form = document.querySelector('.footer-form');\n\nasync function addEmail(email) {\n  return axios.post('https://energyflow.b.goit.study/api/subscription', email);\n}\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const userEmail = evt.currentTarget.email.value.trim().toLowerCase();\n  const userInfo = {\n    email: userEmail,\n  };\n  getLoader('show');\n  addEmail(userInfo)\n    .then(({ data, status }) => {\n      if (status === 201) {\n        getLoader('hide');\n        showAlert(data.message, 'OK');\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 409) {\n        getLoader('hide');\n        showAlert('Subscription already exists!');\n      } else {\n        showAlert(error.message, 'ERROR');\n        getLoader('hide');\n      }\n    })\n    .finally(form.reset());\n}\n"],"names":["showAlert","msg","type","iziToast","getLoader","act","loader","refs","axios","perPage","page","filter","getData","createMarkup","arr","markup","name","imgUrl","handleSearch","results","event","selected","targetMenu","prevButton","isButton","form","addEmail","email","onSubmit","evt","userInfo","data","status","error"],"mappings":"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"}