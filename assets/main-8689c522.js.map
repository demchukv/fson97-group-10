{"version":3,"file":"main-8689c522.js","sources":["../../src/js/common.js","../../src/js/exercises.js","../../src/js/footer.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n/**\n * \n * @param {*} msg - Текст повідомлення для відвідувача сайту\n * @param {*} type - Тип повідомлення: OK - успіх (зелений фон), ERROR - помилка (червоний фон), info - інформування (синій фон)\n */\nexport function showAlert( msg, type = \"info\" ) {\n    if (type === \"OK\") {\n        iziToast.success({\n            position: 'topCenter',\n            message: msg,\n        });\n    }else if(type === \"ERROR\"){\n        iziToast.error({\n            position: 'topCenter',\n            message: msg,\n        });\n    } else {\n        iziToast.info({\n            position: 'topCenter',\n            message: msg,\n        });\n    }\n}\n\n/**\n * \n * @param {*} act - show and hide - показати і сховати лоадер\n */\nexport function getLoader( act = 'show' ){\n    const loader = document.querySelector(\".loader\");\n    if(act === 'show'){\n        loader.style.display = 'inline-block';\n    }else{\n        loader.style.display = 'none';\n    }\n}","import axios from 'axios';\r\n\r\nconst refs = {\r\n  gallery: document.querySelector('.gallery'),\r\n  buttons: document.querySelector('.exercises-btns-div'),\r\n  musclesBtn: document.querySelector('[data-filter=\"muscles\"]'),\r\n  bodypartsBtn: document.querySelector('[data-filter=\"bodyparts\"]'),\r\n  equipBtn: document.querySelector('[data-filter=\"equipment\"]'),\r\n};\r\n\r\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\r\nconst perPage = 12;\r\nlet page = 1;\r\nlet filter = 'Muscles';\r\n\r\nasync function getData() {\r\n  const data = await axios.get('/filters', {\r\n    params: {\r\n      filter,\r\n      page,\r\n      limit: perPage,\r\n    },\r\n  });\r\n  return data;\r\n}\r\n\r\nfunction createMarkup(arr) {\r\n  const markup = arr\r\n    .map(\r\n      ({ name, filter, imgUrl }) => `<li class=\"gallery-item\">\r\n        <a href=\"\">\r\n        <img class=\"gallery-image\" src=\"${imgUrl}\" alt=\"Galllery Image\">\r\n            <ul class=\"gallery-item-description\">\r\n                <li class=\"name\">${name}</li>\r\n                <li class=\"filter\">${filter}</li>\r\n            </ul>\r\n        </a>\r\n    </li>`\r\n    )\r\n    .join('');\r\n\r\n  refs.gallery.innerHTML = markup;\r\n}\r\n\r\nfunction handleSearch(){\r\n  getData().then(\r\n    ({ data: { results } }) => createMarkup(results),\r\n  );\r\n}\r\n\r\nhandleSearch()\r\nrefs.musclesBtn.classList.add('active');\r\n\r\nrefs.buttons.addEventListener(\"click\", (event) => {\r\n  selected(event)\r\n  const targetMenu = event.target;\r\n\r\n  if (targetMenu === event.currentTarget) {\r\n    return\r\n  } else if (targetMenu === refs.musclesBtn) {\r\n    filter = 'Muscles'\r\n    handleSearch()\r\n    return\r\n  } else if (targetMenu === refs.bodypartsBtn){\r\n    filter = 'Body parts'\r\n    handleSearch()\r\n    return\r\n  } else if (targetMenu === refs.equipBtn) {\r\n    filter = 'Equipment'\r\n    handleSearch()\r\n    return\r\n  }\r\n})\r\n\r\nlet prevButton = null;\r\n\r\nfunction selected(e) {\r\n  const isButton = e.target.nodeName === 'BUTTON';\r\n  refs.musclesBtn.classList.remove('active');\r\n\r\n  if (!isButton) {\r\n    return;\r\n  }\r\n\r\n  e.target.classList.add('active');\r\n\r\n  if (prevButton !== null) {\r\n    prevButton.classList.remove('active');\r\n  }\r\n  prevButton = e.target;\r\n\r\n  if (prevButton === prevButton) {\r\n    prevButton.classList.add('active')\r\n  }\r\n}\r\n","import axios from 'axios';\nimport { showAlert, getLoader } from './common';\n\nconst form = document.querySelector('.footer-form');\n\nasync function addEmail(email) {\n  return axios.post('https://energyflow.b.goit.study/api/subscription', email);\n}\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const userEmail = evt.currentTarget.email.value.trim().toLowerCase();\n\n  if (userEmail === '') {\n    showAlert('The email field is empty!', 'ERROR');\n    return;\n  }\n\n  const userInfo = {\n    email: userEmail,\n  };\n  getLoader('show');\n  addEmail(userInfo)\n    .then(({ data, status }) => {\n      if (status === 201) {\n        getLoader('hide');\n        showAlert(data.message, 'OK');\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 409) {\n        getLoader('hide');\n        showAlert('Subscription already exists!');\n      } else {\n        showAlert(error.message, 'ERROR');\n        getLoader('hide');\n      }\n    })\n    .finally(form.reset());\n}\n"],"names":["showAlert","msg","type","iziToast","getLoader","act","loader","refs","axios","perPage","page","filter","getData","createMarkup","arr","markup","name","imgUrl","handleSearch","results","event","selected","targetMenu","prevButton","isButton","form","addEmail","email","onSubmit","evt","userEmail","userInfo","data","status","error"],"mappings":"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"}