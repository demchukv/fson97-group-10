import{i as b,a as g,P as H}from"./vendor-e8675f53.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();function f(e,t="info"){t==="OK"?b.success({position:"topCenter",message:e}):t==="ERROR"?b.error({position:"topCenter",message:e}):b.info({position:"topCenter",message:e})}function l(e="show"){const t=document.querySelector(".loader");e==="show"?t.style.display="inline-block":t.style.display="none"}const i={gallery:document.querySelector(".gallery"),buttons:document.querySelector(".exercises-btns-div"),pagination:document.getElementById("pagination"),musclesBtn:document.querySelector('[data-filter="muscles"]'),bodypartsBtn:document.querySelector('[data-filter="bodypart"]'),equipBtn:document.querySelector('[data-filter="equipment"]')};g.defaults.baseURL="https://energyflow.b.goit.study/api";const u={perPage:12,page:1,filter:"Muscles",totalPages:1,totalItems:0};async function B(){return l(),(await g.get("/filters",{params:{filter:u.filter,page:u.page,limit:u.perPage}})).data}function w(e){i.gallery.innerHTML="";const t=e.map(({name:a,filter:n,imgUrl:r})=>`<li class="gallery-item">
        <a href="">
        <img class="gallery-image" src="${r}" alt="Galllery Image">
            <ul class="gallery-item-description" data-exercises="${a}">
                <li class="name">${a}</li>
                <li class="filter">${n}</li>
            </ul>
        </a>
    </li>`).join("");i.gallery.innerHTML=t,l("hide")}function E(){u.page=1,B().then(e=>{const{results:t,totalPages:a,page:n}=e;if(w(t),a>1){const r=U(n,a);i.pagination.innerHTML=r}else i.pagination.innerHTML=""}).catch(e=>{l("hide"),f(e.message,"ERROR")})}E();i.musclesBtn.classList.add("active");i.musclesBtn.disabled=!0;i.buttons.addEventListener("click",e=>{I(e);const t=e.target;t!==e.currentTarget&&(t===i.musclesBtn?(i.musclesBtn.disabled=!0,i.bodypartsBtn.disabled=!1,i.equipBtn.disabled=!1,u.filter="Muscles"):t===i.bodypartsBtn?(i.musclesBtn.disabled=!1,i.bodypartsBtn.disabled=!0,i.equipBtn.disabled=!1,u.filter="Body parts"):t===i.equipBtn&&(i.musclesBtn.disabled=!1,i.bodypartsBtn.disabled=!1,i.equipBtn.disabled=!0,u.filter="Equipment"),E())});let p=null;function I(e){const t=e.target.nodeName==="BUTTON";i.musclesBtn.classList.remove("active"),t&&(e.target.classList.add("active"),p!==null&&p.classList.remove("active"),p=e.target,p===p&&p.classList.add("active"))}i.pagination.addEventListener("click",N);function U(e,t){let a="";for(;e<=t;e++)a+=`<button class="pagination-btn" type="button">${e}</button>`;return a}async function N(e){u.page=e.target.textContent,i.gallery.innerHTML="";try{const{results:t}=await B();w(t)}catch(t){console.log(t)}}const v="/fson97-group-10/assets/icons-7beb2351.svg",s={page:1,totalPages:1,totalItems:0,keyword:"",filter:"",filterGroup:"",limit:12},d=document.querySelector(".gallery");d&&(d.addEventListener("click",G),d.classList.add("exercises-card"));const q=document.querySelector(".search-btn"),m=document.querySelector(".search-clear-btn"),c=document.querySelector(".search-input"),x=document.querySelector(".exercises-btns-div"),S=document.querySelector(".ex-search"),k=document.querySelector(".exercises-header"),P=document.querySelector("#pagination"),O=document.querySelector("#pager");function G(e){if(e.preventDefault(),e.target.closest("ul").dataset.exercises){P.style.display="none",O.style.display="block",q.addEventListener("click",T),m.addEventListener("click",C),c.addEventListener("input",M),x.addEventListener("click",R),S.style.display="block";const t=document.querySelector(".exercises-button.active");s.filter=t.dataset.filter,s.filterGroup=e.target.closest("ul").dataset.exercises;const a=`Exercises / <span class="head-small">${s.filterGroup.charAt(0).toUpperCase()+s.filterGroup.slice(1)}</span>`;k.innerHTML=a,y(s.filter)}}function T(e){e.preventDefault(),c.value.length>3&&(s.page=1,s.keyword=c.value.trim().toLowerCase(),y(s.filter,!0))}function y(e,t=!0){d.innerHTML="",A(e).then(a=>{s.totalPages=a.totalPages,s.totalItems=s.limit*a.totalPages,a.results.length===0?(d.innerHTML='<p class="ex-list-no-result">Unfortunately, <span class="accent-text">no results</span> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>',L()):(j(a.results),t&&L()),l("hide")}).catch(a=>{l("hide"),f(a.message,"ERROR")})}async function A(e){return l(),c.value.length>3?s.keyword=c.value.trim().toLowerCase():s.keyword="",(await g.get("/exercises",{params:{[e]:s.filterGroup,keyword:s.keyword,page:s.page,limit:s.limit}})).data}function j(e){let t=e.map(n=>`<li class="exercise-item" data-id="${n._id}">
      <p class="ex-item-head">
      <span class="ex-item-head-group">
      <span class="ex-item-workout">WORKOUT</span>
      <span class="ex-rating-group">
      <span class="ex-item-rating">${Number(n.rating).toFixed(1)}</span>
      <svg class="ex-star-icon" width="18" height="18"><use href="${v}#icon-star"></use></svg>
      </span>
      </span>
      <a class="ex-item-start" href="#" data-id="${n._id}"><span>Start</span> <svg class="ex-arrow-icon" width="14" height="14"><use href="${v}#icon-arrow-start"></use></svg></a>
      </p>
      <span class="ex-title">
      <span class="ex-run-men"><svg class="ex-icon-run" width="14" height="14"><use href="${v}#icon-running_man"></use></svg></span>
      <h3 class="ex-item-name">${n.name.charAt(0).toUpperCase()+n.name.slice(1)}</h3>
      </span>
      <p class="ex-item-info">
      <span class="ex-info-group"><span class="ex-item-desc">Burned calories:</span> <span class="ex-item-value">${n.burnedCalories} / ${n.time} min</span></span>
      <span class="ex-info-group"><span class="ex-item-desc">Body part:</span> <span class="ex-item-value">${n.bodyPart.charAt(0).toUpperCase()+n.bodyPart.slice(1)}</span></span>
      <span class="ex-info-group"><span class="ex-item-desc">Target:</span> <span class="ex-item-value">${n.target.charAt(0).toUpperCase()+n.target.slice(1)}</span></span>
      </p>
      </li>`).join("");d.innerHTML=t;const a=x.getBoundingClientRect();window.scrollBy({top:a.y+a.height,left:0,behavior:"smooth"})}function L(){if(s.totalItems>s.limit)new H("pager",{totalItems:s.totalItems,itemsPerPage:s.limit,visiblePages:3}).on("afterMove",function(t){s.page=t.page,y(s.filter,!1)});else{const e=document.querySelector("#pager");e.innerHTML=""}l("hide")}function C(){c.value="",m.style.visibility="hidden",s.page=1,y(s.filter,s.filterGroup)}function M(){c.value.length>0?m.style.visibility="visible":m.style.visibility="hidden"}function R(e){e.target.tagName==="BUTTON"&&(c.value="",S.style.display="none",d.innerHTML="",d.classList.remove("exercises-card"),q.removeEventListener("click",T),m.removeEventListener("click",C),c.removeEventListener("input",M),x.removeEventListener("click",R),O.style.display="none",P.style.display="block",s.page=1,k.innerHTML="Exercises")}const $=document.querySelector(".footer-form");async function D(e){return g.post("https://energyflow.b.goit.study/api/subscription",e)}$.addEventListener("submit",F);function F(e){e.preventDefault();const t=e.currentTarget.email.value.trim().toLowerCase();if(t===""){f("The email field is empty!","ERROR");return}const a={email:t};l("show"),D(a).then(({data:n,status:r})=>{r===201&&(l("hide"),f(n.message,"OK"))}).catch(n=>{n.response.status===409?(l("hide"),f("Subscription already exists!")):(f(n.message,"ERROR"),l("hide"))}).finally($.reset())}
//# sourceMappingURL=main-6b1b3972.js.map
