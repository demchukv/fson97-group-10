{"version":3,"file":"main-b45ac26c.js","sources":["../../src/js/common.js","../../src/js/exercises.js","../../src/js/subexercises.js","../../src/js/footer.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n/**\n * \n * @param {*} msg - Текст повідомлення для відвідувача сайту\n * @param {*} type - Тип повідомлення: OK - успіх (зелений фон), ERROR - помилка (червоний фон), info - інформування (синій фон)\n */\nexport function showAlert( msg, type = \"info\" ) {\n    if (type === \"OK\") {\n        iziToast.success({\n            position: 'topCenter',\n            message: msg,\n        });\n    }else if(type === \"ERROR\"){\n        iziToast.error({\n            position: 'topCenter',\n            message: msg,\n        });\n    } else {\n        iziToast.info({\n            position: 'topCenter',\n            message: msg,\n        });\n    }\n}\n\n/**\n * \n * @param {*} act - show and hide - показати і сховати лоадер\n */\nexport function getLoader( act = 'show' ){\n    const loader = document.querySelector(\".loader\");\n    if(act === 'show'){\n        loader.style.display = 'inline-block';\n    }else{\n        loader.style.display = 'none';\n    }\n}","import axios from 'axios';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  buttons: document.querySelector('.exercises-btns-div'),\n  musclesBtn: document.querySelector('[data-filter=\"muscles\"]'),\n  bodypartsBtn: document.querySelector('[data-filter=\"bodypart\"]'),\n  equipBtn: document.querySelector('[data-filter=\"equipment\"]'),\n};\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\nconst perPage = 12;\nlet page = 1;\nlet filter = 'Muscles';\n\nasync function getData() {\n  const data = await axios.get('/filters', {\n    params: {\n      filter,\n      page,\n      limit: perPage,\n    },\n  });\n  return data;\n}\n\nfunction createMarkup(arr) {\n  const markup = arr\n    .map(\n      ({ name, filter, imgUrl }) => `<li class=\"gallery-item\">\n        <a href=\"\">\n        <img class=\"gallery-image\" src=\"${imgUrl}\" alt=\"Galllery Image\">\n            <ul class=\"gallery-item-description\" data-exercises=\"${name}\">\n                <li class=\"name\">${name}</li>\n                <li class=\"filter\">${filter}</li>\n            </ul>\n        </a>\n    </li>`\n    )\n    .join('');\n\n  refs.gallery.innerHTML = markup;\n}\n\nfunction handleSearch(){\n  getData().then(\n    ({ data: { results } }) => createMarkup(results),\n  );\n}\n\nhandleSearch()\nrefs.musclesBtn.classList.add('active');\n\nrefs.buttons.addEventListener(\"click\", (event) => {\n  selected(event)\n  const targetMenu = event.target;\n\n  if (targetMenu === event.currentTarget) {\n    return\n  } else if (targetMenu === refs.musclesBtn) {\n    filter = 'Muscles'\n    handleSearch()\n    return\n  } else if (targetMenu === refs.bodypartsBtn){\n    filter = 'Body parts'\n    handleSearch()\n    return\n  } else if (targetMenu === refs.equipBtn) {\n    filter = 'Equipment'\n    handleSearch()\n    return\n  }\n})\n\nlet prevButton = null;\n\nfunction selected(e) {\n  const isButton = e.target.nodeName === 'BUTTON';\n  refs.musclesBtn.classList.remove('active');\n\n  if (!isButton) {\n    return;\n  }\n\n  e.target.classList.add('active');\n\n  if (prevButton !== null) {\n    prevButton.classList.remove('active');\n  }\n  prevButton = e.target;\n\n  if (prevButton === prevButton) {\n    prevButton.classList.add('active')\n  }\n}\n","import axios from \"axios\";\nimport Pagination from \"tui-pagination\";\nimport 'tui-pagination/dist/tui-pagination.css';\nimport {getLoader, showAlert} from \"./common\";\n\nconst exParams = {\n    page : 1,\n    totalPages : 1,\n    totalItems : 0,\n    keyword : '',\n    filter : '',\n    filterGroup : '',\n    limit : 12,\n}\n\nconst galleryObj = document.querySelector(\".gallery\");\nif(galleryObj){\n    galleryObj.addEventListener('click', handleCardClick);\n}\n\nfunction handleCardClick(event){\n    event.preventDefault();\n    if(event.target.closest('ul').dataset.exercises){\n        const filterBtn = document.querySelector(\".exercises-button.active\");\n        exParams.filter = filterBtn.dataset.filter;\n        exParams.filterGroup = event.target.closest('ul').dataset.exercises;\n        updateExercisesList(exParams.filter, exParams.filterGroup);\n    }\n    return;\n}\n\nfunction updateExercisesList(filter, filterGroup, newPagination = true){\n    loadExercisesList(filter, filterGroup)\n    .then(data => {\n        exParams.totalPages = data.totalPages;\n        exParams.totalItems = exParams.limit * data.totalPages;\n        markupExercisesList(data.results);\n        if(newPagination){\n            makePagination();\n        }else{\n            getLoader('hide');\n        }\n        }\n    )\n    .catch(error => {\n        getLoader('hide');\n        showAlert(error.message, 'ERROR');\n    });\n}\n\nasync function loadExercisesList(filter, filterGroup){\n    getLoader();\n    const data = await axios.get('/exercises', {\n        params: {\n          [filter] : exParams.filterGroup,\n          keyword : exParams.keyword,\n          page : exParams.page,\n          limit : exParams.limit,\n        },\n      });\n  return data.data;\n}\n\nfunction markupExercisesList(data){\n    let markup = data\n    .map(i =>\n      `<li class=\"exercise-item\" data-id=\"${i._id}\">\n      <span>WORKOUT</span>\n      <span>${i.rating}</span>\n      <a href=\"#\" data-id=\"${i._id}\">Start</a>\n      <h3>${i.name.charAt(0).toUpperCase() + i.name.slice(1)}</h3>\n      <span>Burned calories: ${i.burnedCalories}/${i.time} min</span>\n      <span>Body part: ${i.bodyPart.charAt(0).toUpperCase() + i.bodyPart.slice(1)}</span>\n      <span>Target: ${i.target.charAt(0).toUpperCase() + i.target.slice(1)}</span>\n      </li>`\n    )\n    .join('');\n    \n    galleryObj.innerHTML = markup;\n}\n\nfunction makePagination(){\n    const pagination = new Pagination('pagination', {\n        totalItems : exParams.totalItems,\n        itemsPerPage: exParams.limit,\n        visiblePages: 3\n    });\n    pagination.on('afterMove', function(eventData) {\n        exParams.page = eventData.page;\n        updateExercisesList(exParams.filter, exParams.filterGroup, false);\n    });\n    getLoader('hide');\n}","import axios from 'axios';\nimport { showAlert, getLoader } from './common';\n\nconst form = document.querySelector('.footer-form');\n\nasync function addEmail(email) {\n  return axios.post('https://energyflow.b.goit.study/api/subscription', email);\n}\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const userEmail = evt.currentTarget.email.value.trim().toLowerCase();\n\n  if (userEmail === '') {\n    showAlert('The email field is empty!', 'ERROR');\n    return;\n  }\n\n  const userInfo = {\n    email: userEmail,\n  };\n  getLoader('show');\n  addEmail(userInfo)\n    .then(({ data, status }) => {\n      if (status === 201) {\n        getLoader('hide');\n        showAlert(data.message, 'OK');\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 409) {\n        getLoader('hide');\n        showAlert('Subscription already exists!');\n      } else {\n        showAlert(error.message, 'ERROR');\n        getLoader('hide');\n      }\n    })\n    .finally(form.reset());\n}\n"],"names":["showAlert","msg","type","iziToast","getLoader","act","loader","refs","axios","perPage","page","filter","getData","createMarkup","arr","markup","name","imgUrl","handleSearch","results","event","selected","targetMenu","prevButton","isButton","exParams","galleryObj","handleCardClick","filterBtn","updateExercisesList","filterGroup","newPagination","loadExercisesList","data","markupExercisesList","makePagination","error","i","Pagination","eventData","form","addEmail","email","onSubmit","evt","userEmail","userInfo","status"],"mappings":"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"}