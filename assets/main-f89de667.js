import{i as v,a as g,P as B}from"./vendor-e8675f53.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();function d(e,t="info"){t==="OK"?v.success({position:"topCenter",message:e}):t==="ERROR"?v.error({position:"topCenter",message:e}):v.info({position:"topCenter",message:e})}function n(e="show"){const t=document.querySelector(".loader");e==="show"?t.style.display="inline-block":t.style.display="none"}const c={gallery:document.querySelector(".gallery"),buttons:document.querySelector(".exercises-btns-div"),musclesBtn:document.querySelector('[data-filter="muscles"]'),bodypartsBtn:document.querySelector('[data-filter="bodypart"]'),equipBtn:document.querySelector('[data-filter="equipment"]')};g.defaults.baseURL="https://energyflow.b.goit.study/api";const p={perPage:12,page:1,filter:"Muscles"};async function P(){return n(),await g.get("/filters",{params:{filter:p.filter,page:p.page,limit:p.perPage}})}function T(e){c.gallery.innerHTML="";const t=e.map(({name:s,filter:l,imgUrl:i})=>`<li class="gallery-item">
        <a href="">
        <img class="gallery-image" src="${i}" alt="Galllery Image">
            <ul class="gallery-item-description" data-exercises="${s}">
                <li class="name">${s}</li>
                <li class="filter">${l}</li>
            </ul>
        </a>
    </li>`).join("");c.gallery.innerHTML=t,n("hide")}function L(){P().then(({data:{results:e}})=>T(e)).catch(e=>{n("hide"),d(e.message,"ERROR")})}L();c.musclesBtn.classList.add("active");c.buttons.addEventListener("click",e=>{C(e);const t=e.target;t!==e.currentTarget&&(t===c.musclesBtn?p.filter="Muscles":t===c.bodypartsBtn?p.filter="Body parts":t===c.equipBtn&&(p.filter="Equipment"),L())});let u=null;function C(e){const t=e.target.nodeName==="BUTTON";c.musclesBtn.classList.remove("active"),t&&(e.target.classList.add("active"),u!==null&&u.classList.remove("active"),u=e.target,u===u&&u.classList.add("active"))}const a={page:1,totalPages:1,totalItems:0,keyword:"",filter:"",filterGroup:"",limit:12},f=document.querySelector(".gallery");f&&f.addEventListener("click",R);const b=document.querySelector(".search-btn"),m=document.querySelector(".search-clear-btn"),o=document.querySelector(".search-input"),x=document.querySelector(".exercises-btns-div"),S=document.querySelector(".ex-search");function R(e){if(e.preventDefault(),e.target.closest("ul").dataset.exercises){b.addEventListener("click",w),m.addEventListener("click",E),o.addEventListener("input",O),x.addEventListener("click",k),S.classList.remove("visually-hidden");const t=document.querySelector(".exercises-button.active");a.filter=t.dataset.filter,a.filterGroup=e.target.closest("ul").dataset.exercises,y(a.filter)}}function w(e){e.preventDefault(),o.value.length>3&&(a.page=1,a.keyword=o.value.trim().toLowerCase(),y(a.filter))}function y(e,t=!0){f.innerHTML="",M(e).then(s=>{a.totalPages=s.totalPages,a.totalItems=a.limit*s.totalPages,s.results.length===0?f.innerHTML='<p class="ex-list-no-result">Unfortunately, <span class="accent-text">no results</span> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>':($(s.results),t&&s.totalPages>1&&I()),n("hide")}).catch(s=>{n("hide"),d(s.message,"ERROR")})}async function M(e){return n(),o.value.length>3?a.keyword=o.value.trim().toLowerCase():a.keyword="",(await g.get("/exercises",{params:{[e]:a.filterGroup,keyword:a.keyword,page:a.page,limit:a.limit}})).data}function $(e){let t=e.map(s=>`<li class="exercise-item" data-id="${s._id}">
      <p class="ex-item-head">
      <span class="ex-item-workout">WORKOUT</span>
      <span class="ex-item-rating">${s.rating}</span>
      <a class="ex-item-start" href="#" data-id="${s._id}">Start</a>
      </p>
      <h3 class="ex-item-name">${s.name.charAt(0).toUpperCase()+s.name.slice(1)}</h3>
      <p class="ex-item-info">
      <span class="ex-item-desc">Burned calories:</span> <span class="ex-item-value">${s.burnedCalories}/${s.time} min</span>
      <span class="ex-item-desc">Body part:</span> <span class="ex-item-value">${s.bodyPart.charAt(0).toUpperCase()+s.bodyPart.slice(1)}</span>
      <span class="ex-item-desc">Target:</span> <span class="ex-item-value">${s.target.charAt(0).toUpperCase()+s.target.slice(1)}</span>
      </p>
      </li>`).join("");f.innerHTML=t}function I(){if(a.totalItems>a.limit)new B("pagination",{totalItems:a.totalItems,itemsPerPage:a.limit,visiblePages:3}).on("afterMove",function(t){a.page=t.page,y(a.filter,!1)});else{const e=document.querySelector("#pagination");e.innerHTML=""}n("hide")}function E(){o.value="",m.style.visibility="hidden",a.page=1,y(a.filter,a.filterGroup)}function O(){o.value.length>0?m.style.visibility="visible":m.style.visibility="hidden"}function k(e){if(e.target.tagName==="BUTTON"){o.value="",S.classList.add("visually-hidden"),f.innerHTML="",b.removeEventListener("click",w),m.removeEventListener("click",E),o.removeEventListener("input",O),x.removeEventListener("click",k);const t=document.querySelector("#pagination");t.innerHTML="",a.page=1}}const q=document.querySelector(".footer-form");async function H(e){return g.post("https://energyflow.b.goit.study/api/subscription",e)}q.addEventListener("submit",U);function U(e){e.preventDefault();const t=e.currentTarget.email.value.trim().toLowerCase();if(t===""){d("The email field is empty!","ERROR");return}const s={email:t};n("show"),H(s).then(({data:l,status:i})=>{i===201&&(n("hide"),d(l.message,"OK"))}).catch(l=>{l.response.status===409?(n("hide"),d("Subscription already exists!")):(d(l.message,"ERROR"),n("hide"))}).finally(q.reset())}
//# sourceMappingURL=main-f89de667.js.map
