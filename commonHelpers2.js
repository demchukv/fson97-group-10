import{p as g,g as r,s as p,i as h}from"./assets/scroll-up-681e4ae3.js";import{a as m,P as w}from"./assets/vendor-ecc6328a.js";document.querySelector(".generated-quote-container");document.addEventListener("DOMContentLoaded",R);function R(){fetch("https://energyflow.b.goit.study/api/quote",{method:"GET",headers:{Accept:"application/json"}}).then(e=>e.json()).then(e=>{console.log(e),localStorage.setItem("quoteData",JSON.stringify(e))}).catch(e=>{console.error("Error:",e)})}const o={gallery:document.querySelector(".gallery"),buttons:document.querySelector(".exercises-btns-div"),pagination:document.getElementById("pagination"),musclesBtn:document.querySelector('[data-filter="muscles"]'),bodypartsBtn:document.querySelector('[data-filter="bodypart"]'),equipBtn:document.querySelector('[data-filter="equipment"]')};let v=!0;m.defaults.baseURL="https://energyflow.b.goit.study/api";const i={perPage:12,page:1,filter:"Muscles",totalPages:1,totalItems:0};async function $(){return g(".gallery","set"),o.gallery.innerHTML="",r(),(await m.get("/filters",{params:{filter:i.filter,page:i.page,limit:i.perPage}})).data}function H(e){const a=e.map(({name:n,filter:s,imgUrl:y})=>`<li class="gallery-item">
        <a href="">
        <img class="gallery-image" src="${y}" alt="Galllery Image">
            <ul class="gallery-item-description" data-exercises="${n}">
                <li class="name">${n}</li>
                <li class="filter">${s}</li>
            </ul>
        </a>
    </li>`).join("");o.gallery.innerHTML=a,r("hide")}function x(){$().then(e=>{const{results:a,totalPages:n,page:s}=e;H(a),g(".gallery","unset"),v&&(i.totalPages=n,i.totalItems=n*i.perPage,G())}).catch(e=>{r("hide"),p(e.message,"ERROR")})}x();o.musclesBtn.classList.add("active");o.buttons.addEventListener("click",e=>{U(e);const a=e.target;i.page=1,v=!0,a!==e.currentTarget&&(a===o.musclesBtn?i.filter="Muscles":a===o.bodypartsBtn?i.filter="Body parts":a===o.equipBtn&&(i.filter="Equipment"),x(),k())});let u=null;function U(e){const a=e.target.nodeName==="BUTTON";o.musclesBtn.classList.remove("active"),a&&(e.target.classList.add("active"),u!==null&&u.classList.remove("active"),u=e.target,u===u&&u.classList.add("active"))}function G(){if(v=!1,i.totalItems>i.perPage)new w("pagination",{totalItems:i.totalItems,itemsPerPage:i.perPage,visiblePages:3}).on("afterMove",function(a){i.page=a.page,x(),k()});else{const e=document.querySelector("#pagination");e.innerHTML=""}}function k(){const e=o.buttons.getBoundingClientRect();window.scrollBy({top:e.y,left:0,behavior:"smooth"})}const t={page:1,totalPages:1,totalItems:0,keyword:"",filter:"",filterGroup:"",limit:12},c=document.querySelector(".gallery");c&&(c.addEventListener("click",j),c.classList.add("exercises-card"));const S=document.querySelector(".search-btn"),d=document.querySelector(".search-clear-btn"),l=document.querySelector(".search-input"),L=document.querySelector(".exercises-btns-div"),E=document.querySelector(".ex-search"),q=document.querySelector(".exercises-header"),B=document.querySelector("#pagination"),P=document.querySelector("#pager");function j(e){if(e.preventDefault(),e.target.closest("ul").dataset.exercises){B.style.display="none",P.style.display="block",S.addEventListener("click",T),d.addEventListener("click",C),l.addEventListener("input",I),L.addEventListener("click",M),E.style.display="block";const a=document.querySelector(".exercises-button.active");t.filter=a.dataset.filter,t.filterGroup=e.target.closest("ul").dataset.exercises;const n=`Exercises / <span class="head-small">${t.filterGroup.charAt(0).toUpperCase()+t.filterGroup.slice(1)}</span>`;q.innerHTML=n,f(t.filter)}}function T(e){e.preventDefault(),l.value.length>3&&(t.page=1,t.keyword=l.value.trim().toLowerCase(),f(t.filter,!0))}function f(e,a=!0){g(".gallery","set"),c.innerHTML="",A(e).then(n=>{t.totalPages=n.totalPages,t.totalItems=t.limit*n.totalPages,n.results.length===0?(c.innerHTML='<p class="ex-list-no-result">Unfortunately, <span class="accent-text">no results</span> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>',b()):(D(n.results),g(".gallery","unset"),a&&b()),r("hide")}).catch(n=>{r("hide"),p(n.message,"ERROR")})}async function A(e){return r(),l.value.length>3?t.keyword=l.value.trim().toLowerCase():t.keyword="",(await m.get("/exercises",{params:{[e]:t.filterGroup,keyword:t.keyword,page:t.page,limit:t.limit}})).data}function D(e){let a=e.map(s=>`<li class="exercise-item" data-id="${s._id}">
      <p class="ex-item-head">
      <span class="ex-item-head-group">
      <span class="ex-item-workout">WORKOUT</span>
      <span class="ex-rating-group">
      <span class="ex-item-rating">${Number(s.rating).toFixed(1)}</span>
      <svg class="ex-star-icon" width="18" height="18"><use href="${h}#icon-star"></use></svg>
      </span>
      </span>
      <a class="ex-item-start" href="#" data-id="${s._id}"><span>Start</span> <svg class="ex-arrow-icon" width="14" height="14"><use href="${h}#icon-arrow-start"></use></svg></a>
      </p>
      <span class="ex-title">
      <span class="ex-run-men"><svg class="ex-icon-run" width="14" height="14"><use href="${h}#icon-running_man"></use></svg></span>
      <h3 class="ex-item-name">${s.name.charAt(0).toUpperCase()+s.name.slice(1)}</h3>
      </span>
      <p class="ex-item-info">
      <span class="ex-info-group"><span class="ex-item-desc">Burned calories:</span> <span class="ex-item-value">${s.burnedCalories} / ${s.time} min</span></span>
      <span class="ex-info-group"><span class="ex-item-desc">Body part:</span> <span class="ex-item-value">${s.bodyPart.charAt(0).toUpperCase()+s.bodyPart.slice(1)}</span></span>
      <span class="ex-info-group"><span class="ex-item-desc">Target:</span> <span class="ex-item-value">${s.target.charAt(0).toUpperCase()+s.target.slice(1)}</span></span>
      </p>
      </li>`).join("");c.innerHTML=a;const n=L.getBoundingClientRect();window.scrollBy({top:n.y,left:0,behavior:"smooth"})}function b(){if(t.totalItems>t.limit)new w("pager",{totalItems:t.totalItems,itemsPerPage:t.limit,visiblePages:3}).on("afterMove",function(a){t.page=a.page,f(t.filter,!1)});else{const e=document.querySelector("#pager");e.innerHTML=""}r("hide")}function C(){l.value="",d.style.visibility="hidden",t.page=1,f(t.filter,t.filterGroup)}function I(){l.value.length>0?d.style.visibility="visible":d.style.visibility="hidden"}function M(e){e.target.tagName==="BUTTON"&&(l.value="",E.style.display="none",c.innerHTML="",c.classList.remove("exercises-card"),S.removeEventListener("click",T),d.removeEventListener("click",C),l.removeEventListener("input",I),L.removeEventListener("click",M),P.style.display="none",B.style.display="block",t.page=1,q.innerHTML="Exercises")}const O=document.querySelector(".footer-form");async function N(e){return m.post("https://energyflow.b.goit.study/api/subscription",e)}O.addEventListener("submit",F);function F(e){e.preventDefault();const a=e.currentTarget.email.value.trim().toLowerCase();if(a===""){p("The email field is empty!","ERROR");return}const n={email:a};r("show"),N(n).then(({data:s,status:y})=>{y===201&&(r("hide"),p(s.message,"OK"))}).catch(s=>{s.response.status===409?(r("hide"),p("Subscription already exists!")):(p(s.message,"ERROR"),r("hide"))}).finally(O.reset())}
//# sourceMappingURL=commonHelpers2.js.map
